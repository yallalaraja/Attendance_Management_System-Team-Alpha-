{% extends 'ams_app/base.html' %}
{% load static %}

{% block content %}
<h2>All Employees - Attendance (Last 30 Days)</h2>

<table>
    <thead>
        <tr>
            <th>Date</th>
            <th>Employee</th>
            <th>Check-In</th>
            <th>Check-Out</th>
            <th>Status</th>
        </tr>
    </thead>
    <tbody>
        {% for record in attendance_records %}
        <tr>
            <td>{{ record.date }}</td>
            <td>{{ record.user.name }}</td>
            <td>{{ record.check_in_time|default:"-" }}</td>
            <td>{{ record.check_out_time|default:"-" }}</td>
            <td>
                {% if record.check_in_time and record.check_out_time %}
                    <span class="present">Present</span>
                {% else %}
                    <span class="absent">Absent / Incomplete</span>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
