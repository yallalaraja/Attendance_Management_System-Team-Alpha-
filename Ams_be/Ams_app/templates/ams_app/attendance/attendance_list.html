{% extends 'ams_app/base.html' %}
{% load static %}

{% block content %}
<h2>All Users - Attendance Records</h2>

<table border="1" cellpadding="8" cellspacing="0">
    <thead>
        <tr>
            <th>User</th>
            <th>Date</th>
            <th>Check-In Time</th>
            <th>Check-Out Time</th>
            <th>Status</th>
            <th>Duration</th>
        </tr>
    </thead>
    <tbody>
        {% for item in attendance_records %}
            {% with record=item.record %}
            <tr>
                <td>{{ record.user.name }}</td>
                <td>{{ record.date }}</td>
                <td>{{ record.check_in|default:"-" }}</td>
                <td>{{ record.check_out|default:"-" }}</td>
                <td>{{ record.status|default:"-" }}</td>
                <td>{{ item.duration|default:"-" }}</td>
            </tr>
            {% endwith %}
        {% empty %}
        <tr>
            <td colspan="6">No attendance records found.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
